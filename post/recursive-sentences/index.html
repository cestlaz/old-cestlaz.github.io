<!DOCTYPE html>
<html lang="en-us">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>Recursive Sentences - C&#39;est la Z</title>
<meta name="description" content="">

<link rel="icon" type="image/x-icon" href="https://cestlaz.github.io/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://cestlaz.github.io/favicon.png">

<link rel="stylesheet" href="https://cestlaz.github.io/css/style.css?rnd=1678474963" />



<meta property="og:title" content="Recursive Sentences" />
<meta property="og:description" content="It&#39;s been a while since I last wrote up a specific lesson idea so when my friend Garth asked about recursion ideas I thought I&#39;d write this one up. This is a unit I used to teach in my intro class at Stuy using Racket (nee Scheme) but I coded up a quick and dirty Python version.
Recursion is a polarizing topic. Some people love it, others hate it. I&#39;m sure the usual suspects of intro recursion problems doesn&#39;t help." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cestlaz.github.io/post/recursive-sentences/" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2023-03-10T09:58:04-04:00" />
<meta property="article:modified_time" content="2023-03-10T09:58:04-04:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Recursive Sentences"/>
<meta name="twitter:description" content="It&#39;s been a while since I last wrote up a specific lesson idea so when my friend Garth asked about recursion ideas I thought I&#39;d write this one up. This is a unit I used to teach in my intro class at Stuy using Racket (nee Scheme) but I coded up a quick and dirty Python version.
Recursion is a polarizing topic. Some people love it, others hate it. I&#39;m sure the usual suspects of intro recursion problems doesn&#39;t help."/>








    
</head>
<body>
<script id="dsq-count-scr" src="//cestlaz.disqus.com/count.js" async></script>


  <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header> 
            
                <h1 class="site-header">
    <a href="/">C&#39;est la Z</a>
</h1>
<nav>
    
    
    <a class="" href="https://cestlaz.github.io/" title="">Home</a>
    
    <a class="" href="https://cestlaz.github.io/stories/emacs" title="">Emacs</a>
    
    <a class="" href="https://cestlaz.github.io/archive" title="">Archive</a>
    
    <a class="" href="https://cestlaz-nikola.github.io/" title="">Old Blog</a>
    
    <a class="" href="https://cestlaz.github.io/about" title="">About</a>
    
    <a class="" href="https://cestlaz.github.io/rss.xml" title="">RSS</a>
    
</nav>

            
        </header>
        <main id="main" tabindex="-1"> 
            

    <article class="post">
        <header>
            <h1 class="post-title">Recursive Sentences</h1>
        </header>
        <div class="content">
            <p>
It&#39;s been a while since I last wrote up a specific lesson idea so when
my friend Garth asked about recursion ideas I thought I&#39;d write this
one up. This is a unit I used to teach in my intro class at Stuy using
Racket (nee Scheme) but I coded up a quick and dirty Python version.</p>
<p>
Recursion is a polarizing topic. Some people love it, others hate
it. I&#39;m sure the usual suspects of intro recursion problems doesn&#39;t
help. Factorial, Fibonacci, Hanoi, things you can do with loops <sup class="footnote-reference"><a id="footnote-reference-1" href="#footnote-1">1</a></sup>
<a href="https://cestlaz.github.io/posts/2010-01-10-towers-of-hanoi/">ancillary</a> topics that come along with it.</p>
<p>
If you&#39;re doing graphics you can do fractal trees and the like but
that&#39;s not always an option and there could be a disconnect from doing
that to using recursion to solve problems.</p>
<p>
I decided to take it out of the mathy graphicy world and do some text
processing. Let&#39;s write a sentence generator. The recursion is light
but I think it&#39;s pretty cool.</p>
<p>
What follows outlines the unit. The actual lessons should be
embellished and more brought to life but writing that up would make
this post even longer.</p>
<p>
What&#39;s a sentence? Let&#39;s start really simple. In the simplest form a
sentence is <strong>noun</strong> <strong>verb</strong>. Let&#39;s write a program to generate sentences
of this form:</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> random
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>NOUNS <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;dog&#39;</span>,<span style="color:#e6db74">&#39;cat&#39;</span>,<span style="color:#e6db74">&#39;boy&#39;</span>,<span style="color:#e6db74">&#39;hammer&#39;</span>,<span style="color:#e6db74">&#39;ball&#39;</span>]
</span></span><span style="display:flex;"><span>VERBS <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;ate&#39;</span>,<span style="color:#e6db74">&#39;ran&#39;</span>,<span style="color:#e6db74">&#39;bludgeoned&#39;</span>,<span style="color:#e6db74">&#39;stalked&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">verb</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> random<span style="color:#f92672">.</span>choice(VERBS)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">noun</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> random<span style="color:#f92672">.</span>choice(NOUNS)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sentence</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> noun()<span style="color:#f92672">+</span><span style="color:#e6db74">&#39; &#39;</span><span style="color:#f92672">+</span>verb()</span></span></code></pre></div>
</div>
<p>
Of course, this isn&#39;t an interesting sentence. A slightly better
sentence would use the form <strong>noun_phrase</strong> <strong>verb</strong> where a <strong>noun_phrase</strong>
could be something like &#34;a boy&#34; &#34;the dog&#34; or just &#34;hammer.&#34; A
<strong>noun_phrase</strong> would be zero or one article followed by a noun.</p>
<p>
We can write a function called articleq() that will either return an
article (the, a) or an empty string. This leads to these additional
functions:</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">articleq</span>():
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> random<span style="color:#f92672">.</span>randrange(<span style="color:#ae81ff">100</span>) <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">50</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">return</span> random<span style="color:#f92672">.</span>choice([<span style="color:#e6db74">&#39;the&#39;</span>,<span style="color:#e6db74">&#39;a&#39;</span>])
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>          <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>   <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">noun_phrase</span>():
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    article? noun
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> articleq() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span>  <span style="color:#f92672">+</span> noun()</span></span></code></pre></div>
</div>
<p>
The above will generate a noun_phrase that has an article about 50% of the
time.</p>
<p>
Okay, here comes the recursion.</p>
<p>
A noun_phrase also can have adjectives - specifically, zero or more
adjectives. This leads to adding this code (and changing noun_phrase):</p>
<div class="src src-python">
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>  ADJECTIVES <span style="color:#f92672">=</span> [<span style="color:#e6db74">&#39;scary&#39;</span>,<span style="color:#e6db74">&#39;hairy&#39;</span>,<span style="color:#e6db74">&#39;charming&#39;</span>,<span style="color:#e6db74">&#39;loud&#39;</span>,<span style="color:#e6db74">&#39;beautiful&#39;</span>,<span style="color:#e6db74">&#39;cromulent&#39;</span>]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">adjectivestar</span>():
</span></span><span style="display:flex;"><span>    prob <span style="color:#f92672">=</span> random<span style="color:#f92672">.</span>randrange(<span style="color:#ae81ff">100</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> prob <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">70</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> random<span style="color:#f92672">.</span>choice(ADJECTIVES)<span style="color:#f92672">+</span><span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> adjectivestar()
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#39;&#39;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">noun_phrase</span>():
</span></span><span style="display:flex;"><span>       <span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">       article? adjective* noun
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">       &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>       <span style="color:#66d9ef">return</span> articleq() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span>  adjectivestar() <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39; &#39;</span> <span style="color:#f92672">+</span> noun()</span></span></code></pre></div>
</div>
<p>
The recursion comes from the idea that an adjectivestar (star is for
the regexp notion that * means 0 or more of something) is either an
empty string or a single adjective + another adjectivestar(). That
adjectivestar can the in turn call itself again and again until the
random number hits the base case of returning.</p>
<p>
With the noun side replaced, we can similarly replace <strong>verb</strong> with
<strong>verb_phrase</strong>. A <strong>verb_phrase</strong> might be a verb followed by zero or one
adverbs.</p>
<p>
The full code of this sentence generator can be found <a href="https://gitlab.com/zamansky/python-recursive-sentences/-/blob/main/version3.py">here</a>.</p>
<p>
Once we&#39;re done, assuming we filled our word lists with enough variety
we can generate a bunch of sentences and hilarity will ensue. Sure,
the tenses won&#39;t match and the parts of speech will be messed up but
still, you&#39;ll get a lot of cool fun sentences.</p>
<p>
You can also extend things with or without more recursion. You can
generate a <strong>paragraph</strong> made up of multiple sentences or how about a
<strong>compound_sentence</strong> which could be defined as <strong>sentence</strong> or <strong>sentence</strong>
<strong>conjunction</strong> <strong>compound_sentence</strong> &lt;– more recursion.</p>
<p>
Not only is this a fun project but it also alludes to recursive
parsing which some of your students might study later on.</p>
<p>
This project can be a lot of fun. It&#39;s recursion but it&#39;s not math and
in addition to the creative coding parts students can also get
creative with sentence structure and word list.</p>
<p>
Give it a go.</p>
<div class="footnotes">
<hr class="footnotes-separatator">
<div class="footnote-definitions">
<div class="footnote-definition">
<sup id="footnote-1"><a href="#footnote-reference-1">1</a></sup>
<div class="footnote-body">
<p>The loop thing is an issue if the student learned loops prior
to recursion. It seems that students that start with functional
programming show the reverse - they find loop problems tedious when
they can &#34;more easily&#34; just use a functional construct.</p>
</div>
</div>
</div>
</div>

        </div>
        


<div class="post-info">
    
        <div class="post-date">2023-03-10</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://cestlaz.github.io/categories/recursion">recursion</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://cestlaz.github.io/tags/recursion">#recursion</a></li>
                    
                        <li><a href="https://cestlaz.github.io/tags/programming">#programming</a></li>
                    
                </ul>
        
    </div>
</div>

    </article>

    

    
        <div id="disqus_thread"></div>
<script type="application/javascript">
    window.disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "cestlaz" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    


        </main>
        <footer>
            
                
                

                <p>© 2023<br>
Powered by <a target="_blank" href="https://gohugo.io/">Hugo</a>, theme <a target="_blank" href="https://github.com/mitrichius/hugo-theme-anubis">Anubis</a>.
</p>
            
        </footer>
    </div>
</body>
</html>
