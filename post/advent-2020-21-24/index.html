<!DOCTYPE html>
<html lang="en-us">
<head>
    
        
<meta charset="utf-8">
<meta name="HandheldFriendly" content="True">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="referrer" content="no-referrer-when-downgrade">

<title>A Teacher Looks at Advent of Code 2020 - Days 21 and 24 - C&#39;est la Z</title>
<meta name="description" content="">

<link rel="icon" type="image/x-icon" href="https://cestlaz.github.io/favicon.ico">
<link rel="apple-touch-icon-precomposed" href="https://cestlaz.github.io/favicon.png">

<link rel="stylesheet" href="https://cestlaz.github.io/css/style.css?rnd=1622645964" />



<meta property="og:title" content="A Teacher Looks at Advent of Code 2020 - Days 21 and 24" />
<meta property="og:description" content="Day 24 didn&#39;t take that much time so I had a chance to go back and finish day 21.
 As usual, all my code is up here. Day 21   Problem Link
 It took me a while to get my head around this example. You have a set of recipes. Each recipe has a list of ingredients and a list of allergens. Your job for part 1 was basically to determine which ingredients don&#39;t contain any allergens." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://cestlaz.github.io/post/advent-2020-21-24/" />
<meta property="article:published_time" content="2020-12-24T11:43:14-04:00" />
<meta property="article:modified_time" content="2020-12-24T11:43:14-04:00" />

<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="A Teacher Looks at Advent of Code 2020 - Days 21 and 24"/>
<meta name="twitter:description" content="Day 24 didn&#39;t take that much time so I had a chance to go back and finish day 21.
 As usual, all my code is up here. Day 21   Problem Link
 It took me a while to get my head around this example. You have a set of recipes. Each recipe has a list of ingredients and a list of allergens. Your job for part 1 was basically to determine which ingredients don&#39;t contain any allergens."/>








    
</head>
<body>
<script id="dsq-count-scr" src="//cestlaz.disqus.com/count.js" async></script>


  <a class="skip-main" href="#main">Skip to main content</a>
    <div class="container">
        <header> 
            
                <h1 class="site-header">
    <a href="/">C&#39;est la Z</a>
</h1>
<nav>
    
    
    <a class="" href="https://cestlaz.github.io/" title="">Home</a>
    
    <a class="" href="https://cestlaz.github.io/stories/emacs" title="">Emacs</a>
    
    <a class="" href="https://cestlaz.github.io/archive" title="">Archive</a>
    
    <a class="" href="https://cestlaz-nikola.github.io/" title="">Old Blog</a>
    
    <a class="" href="https://cestlaz.github.io/about" title="">About</a>
    
    <a class="" href="https://cestlaz.github.io/rss.xml" title="">RSS</a>
    
</nav>

            
        </header>
        <main id="main" tabindex="-1"> 
            

    <article class="post">
        <header>
            <h1 class="post-title">A Teacher Looks at Advent of Code 2020 - Days 21 and 24</h1>
        </header>
        <div class="content">
            
<p>
<a href="https://adventofcode.com/2020/day/24">Day 24</a> didn&#39;t take that much time so I had a chance to go back and
finish <a href="https://adventofcode.com/2020/day/21">day 21</a>.</p>
<p>
As usual, all my code is up <a href="https://github.com/zamansky/advent2020">here</a>. </p>
<div id="outline-container-headline-1" class="outline-2">
<h2 id="headline-1">
Day 21
</h2>
<div id="outline-text-headline-1" class="outline-text-2">
<p>
<a href="https://adventofcode.com/2020/day/21">Problem Link</a></p>
<p>
It took me a while to get my head around this example. You have a set
of recipes. Each recipe has a list of ingredients and a list of
allergens. Your job for part 1 was basically to determine which
ingredients don&#39;t contain any allergens. Part 2 had you determining
which ingredient had which allergen.</p>
<p>
Part of what I think made this hard was that ingredients were just
random strings of letters as opposed to actual ingredients or at least
pronounceable words or letter strings.</p>
<p>
The key part of the description as that each allergen was present in
<strong>exactly one</strong> ingredient and each ingredient had <strong>at most</strong> one
allergen. </p>
<p>
So, for part 1, the tact was for each allergen, take all the recipes
that had it. In the example, the first and second recipes had
dairy (one indexing). Since only one ingredient can have the dairy
allergen the that ingredient must be in both lists.</p>
<p>
If you take all the recipes that have the dairy allergen and take each
of their lists of ingredients as a set and find all their
intersections, you&#39;ll be left with all the ingredients that can have
the dairy allergen.</p>
<p>
Do this with all the allergens and you&#39;ll have all the ingredients
that could contain them. The other igredients are safe and lead to the
answer to part 1.</p>
<p>
Part 2 had you identifying each ingredient / allergen
pair. Fortunately, the data set we ended up with for part 1 - each
allergen and it&#39;s list of possible ingredients was made to order. One
of them had only one ingredient per allergen. We could identify that
one and then remove that ingredient from the remaining allergen&#39;s
lists. Then repeat to find the next one and then the next. This is
similar to the solution to day 16. Of course this isn&#39;t a general
solution but fortunately the data was all set up for us.</p>
</div>
</div>
<div id="outline-container-headline-2" class="outline-2">
<h2 id="headline-2">
Day 24
</h2>
<div id="outline-text-headline-2" class="outline-text-2">
<p>
<a href="https://adventofcode.com/2020/day/24">Problem Link</a></p>
<p>
Back to Cellular Automata!!!!!! The catch this time is the world is a
hex grid. This means that each cell has six neighbors so using a 2D
array or similar representation seems like an even worse idea than it
was for the 3D and 4D problems earlier this month.</p>
<p>
Even before representing the world parsing was an issue. Since a given
cell can have neighbors to the east, west, northeast, northwest,
southeast or southwest, instructions are given with a line of &#34;moves&#34;
describing a tile to flip starting from 0,0. </p>
<p>
For example, the line &#34;EEE&#34; would move three east from the origin and
flip that tile while &#34;ESEE&#34; would move one east, one southest and then
one further east and flipt the tile there.</p>
<p>
Fortunately, this wasn&#39;t too bad. As we traverse down the line, if we
see an <strong>e</strong> or a <strong>w</strong> then the instruction is one character so we add
the instruction to a list of steps an then continue. Otherwise the
instruction is 2 characters so we take 2 and add the instruction adn
then proceed.</p>
<p>
Next was the data representation. It seemed that a list of live cells
would again be the best solution. I figured on using this mapping: </p>
<table>
<tbody>
<tr>
<td>E</td>
<td>(-2,0)</td>
</tr>
<tr>
<td>W</td>
<td>(2,0)</td>
</tr>
<tr>
<td>NE</td>
<td>(-1,-1)</td>
</tr>
<tr>
<td>NW</td>
<td>(1,-1)</td>
</tr>
<tr>
<td>SE</td>
<td>(-1,1)</td>
</tr>
<tr>
<td>SW</td>
<td>(1,1)</td>
</tr>
</tbody>
</table>
<p>
I later found out that this is called &#34;double coordinates.&#34; Since
we&#39;re not storing the full hex grid there&#39;s no waste anyway and I
wasn&#39;t planning on making a visualization so I didn&#39;t worry about how
this would map to an actual screen.</p>
<p>
Now, finding the coordinate of a tile was pretty easy. In Clojure
it&#39;s: </p>
<p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-clojure" data-lang="clojure"><span style="color:#75715e">;; assume deltas is a lookup dictionary of the above mapping</span>

  (<span style="color:#66d9ef">defn </span>get-tile-location [steps]
    (reduce (<span style="color:#66d9ef">fn </span>[loc step]
              (map + loc (<span style="color:#a6e22e">deltas</span>  step))
              ) [<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>] steps))</code></pre></div></p>
<p>
In Python it would look more like this: </p>
<p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python">  <span style="color:#75715e"># assume deltas is a dictionary with the above mapping</span>
  <span style="color:#75715e"># and steps is a list of instructions [&#34;e&#34;,&#34;w&#34;,&#34;se&#34;, etc]</span>
  <span style="color:#66d9ef">for</span> step <span style="color:#f92672">in</span> steps:
      loc <span style="color:#f92672">=</span> [sum(x) <span style="color:#66d9ef">for</span> x <span style="color:#f92672">in</span> zip(loc, deltas[step])]</code></pre></div></p>
<p>
We can now convert any input line of instructions to a coordinate. If
we write a routine to flip a tile we can now set up our world and
answer part 1.</p>
<p>
Part 2 involved basically turning the part 1 world into a cellular
automaton. Fortunately, this was easy given the solution to earlier CA
problems. It as just a matter of updating the get-neighbors routine
and the rule to go from one generation to the next and we&#39;re done.</p>
<p>
I enjoyed this - it was a nice twist on the earlier CA
questions. First we had a simple CA, then higher dimensions and now
changing the layout of the world but still within 2 dimensions. Once
we had a way of representing a tile and mapping from a tile to its
neighbors we had already solved the problem.</p>
<p>
One more day to go but it&#39;s been a nice run of problems.</p>
</div>
</div>

        </div>
        


<div class="post-info">
    
        <div class="post-date">2020-12-24</div>
    
    <div class="post-taxonomies">
        
            <ul class="post-categories">
                
                    <li><a href="https://cestlaz.github.io/categories/AOC">AOC</a></li>
                
            </ul>
            
            
                <ul class="post-tags">
                    
                        <li><a href="https://cestlaz.github.io/tags/emacs">#emacs</a></li>
                    
                        <li><a href="https://cestlaz.github.io/tags/aoc">#AOC</a></li>
                    
                        <li><a href="https://cestlaz.github.io/tags/advent-of-code">#Advent of Code</a></li>
                    
                </ul>
        
    </div>
</div>

    </article>

    

    
        <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "cestlaz" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    


        </main>
        <footer>
            
                
                

                <p>Â© 2021<br>
Powered by <a target="_blank" href="https://gohugo.io/">Hugo</a>, theme <a target="_blank" href="https://github.com/mitrichius/hugo-theme-anubis">Anubis</a>.
</p>
            
        </footer>
    </div>
</body>
</html>
